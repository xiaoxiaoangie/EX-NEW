<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TP — Personal Profile</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
    --pri:#4f46e5;--pri-light:#eef2ff;--pri-dark:#4338ca;
    --green:#16a34a;--green-bg:#dcfce7;--red:#dc2626;--red-bg:#fef2f2;
    --amber:#d97706;--amber-bg:#fefce8;--blue:#2563eb;--blue-bg:#eff6ff;
    --text:#1e293b;--text2:#475569;--text3:#94a3b8;
    --bg:#f8fafc;--card:#fff;--border:#e2e8f0;--border-light:#f1f5f9;
    --radius:8px;--shadow:0 1px 3px rgba(0,0,0,.06),0 1px 2px rgba(0,0,0,.04);
}
body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);line-height:1.5;min-height:100vh;}

/* Topbar */
.topbar{display:flex;align-items:center;justify-content:space-between;padding:0 32px;height:56px;background:var(--card);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:50;}
.topbar-logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text);}
.topbar-logo .mark{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,#7c3aed,var(--pri));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:12px;}
.topbar-logo .brand{font-weight:700;font-size:15px;}
.topbar-right{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--text2);}
.avatar{width:32px;height:32px;border-radius:50%;background:var(--pri);color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;}

/* Layout */
.page-wrap{max-width:720px;margin:0 auto;padding:32px 24px 100px;}
.page-title{font-size:22px;font-weight:700;margin-bottom:4px;}
.page-sub{font-size:13px;color:var(--text2);margin-bottom:24px;}


/* Card */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px 28px;margin-bottom:20px;box-shadow:var(--shadow);}
.card-title{font-size:15px;font-weight:700;margin-bottom:2px;}
.card-sub{font-size:12px;color:var(--text3);margin-bottom:16px;}

/* Info row */
.info-row{display:flex;align-items:center;padding:16px 0;border-bottom:1px solid var(--border-light);}
.info-row:last-child{border-bottom:none;}
.info-label{width:130px;font-size:13px;color:var(--text2);flex-shrink:0;}
.info-value{flex:1;font-size:13px;font-weight:500;color:var(--text);display:flex;align-items:center;gap:8px;}
.info-action{margin-left:auto;flex-shrink:0;}

/* Badge */
.badge{display:inline-flex;align-items:center;padding:2px 10px;border-radius:10px;font-size:11px;font-weight:600;}
.badge-green{background:var(--green-bg);color:var(--green);}
.badge-amber{background:var(--amber-bg);color:var(--amber);}
.badge-gray{background:var(--border-light);color:var(--text3);}

/* Buttons */
.btn{padding:7px 16px;border-radius:var(--radius);font-size:13px;font-weight:600;cursor:pointer;border:1px solid var(--border);background:var(--card);color:var(--text2);font-family:inherit;transition:all .15s;}
.btn:hover{border-color:var(--pri);color:var(--pri);}
.btn-pri{background:var(--pri);color:#fff;border-color:var(--pri);}
.btn-pri:hover{background:var(--pri-dark);border-color:var(--pri-dark);color:#fff;}
.btn-sm{padding:5px 12px;font-size:12px;}
.btn-link{border:none;background:none;color:var(--pri);padding:5px 12px;}
.btn-link:hover{background:var(--pri-light);}
.btn-danger{color:var(--red);border-color:rgba(220,38,38,.3);}
.btn-danger:hover{background:var(--red-bg);border-color:var(--red);}

/* Modal */
.modal-mask{display:none;position:fixed;inset:0;background:rgba(15,23,42,.45);z-index:200;align-items:center;justify-content:center;}
.modal-mask.show{display:flex;}
.modal{background:var(--card);border-radius:16px;padding:28px 32px;width:460px;max-width:92vw;max-height:85vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.15);}
.modal h2{font-size:18px;font-weight:700;margin-bottom:4px;}
.modal .m-sub{font-size:13px;color:var(--text2);margin-bottom:16px;}

/* Form */
.fg{margin-bottom:14px;}
.fl{display:block;font-size:12px;font-weight:600;color:var(--text2);margin-bottom:5px;}
.fl .req{color:var(--red);}
.fi{width:100%;padding:9px 14px;border:1px solid var(--border);border-radius:var(--radius);font-size:13px;font-family:inherit;color:var(--text);outline:none;transition:border-color .15s;}
.fi:focus{border-color:var(--pri);box-shadow:0 0 0 3px var(--pri-light);}
.fi-hint{font-size:11px;color:var(--text3);margin-top:4px;}
.btn-row{display:flex;gap:8px;justify-content:flex-end;margin-top:20px;}


/* Alert */
.alert{padding:12px 16px;border-radius:var(--radius);font-size:13px;line-height:1.6;display:flex;gap:10px;align-items:flex-start;margin-bottom:16px;}
.alert-info{background:var(--pri-light);color:#3730a3;border:1px solid #c7d2fe;}

/* Toast */
.toast{position:fixed;top:70px;right:24px;padding:10px 20px;border-radius:var(--radius);font-size:13px;font-weight:500;color:#fff;background:var(--green);z-index:300;transform:translateX(calc(100% + 40px));transition:transform .25s ease;box-shadow:0 4px 12px rgba(0,0,0,.12);}
.toast.show{transform:translateX(0);}
.toast.err{background:var(--red);}
</style>
</head>
<body>

<!-- Topbar -->
<div class="topbar">
    <a class="topbar-logo" href="#">
        <div class="mark">TP</div>
        <span class="brand">Tenant Portal</span>
    </a>
    <div class="topbar-right">
        <span id="topbarName">Li Wei</span>
        <div class="avatar" id="topbarAvatar">LW</div>
    </div>
</div>

<!-- Page -->
<div class="page-wrap">
    <div class="page-title">Personal Profile</div>
    <div class="page-sub">管理个人信息和安全设置</div>

    <!-- ===== Basic Information ===== -->
    <div class="card">
        <div class="card-title">Basic Information</div>
        <div class="card-sub">您的个人基本信息</div>

        <div class="info-row">
            <div class="info-label">Name</div>
            <div class="info-value" id="profileName">Li Wei</div>
            <div class="info-action"><button class="btn btn-link btn-sm" onclick="openEditName()">Edit</button></div>
        </div>

        <div class="info-row">
            <div class="info-label">Email</div>
            <div class="info-value">
                <span id="profileEmail">liwei@fulunited.com</span>
                <span class="badge badge-green">Verified</span>
            </div>
            <div class="info-action"><span style="font-size:11px;color:var(--text3);">不可修改</span></div>
        </div>

        <div class="info-row">
            <div class="info-label">Phone</div>
            <div class="info-value" id="phoneDisplay">
                <span style="color:var(--text3);">Not set</span>
                <span class="badge badge-gray">Optional</span>
            </div>
            <div class="info-action"><button class="btn btn-link btn-sm" id="phoneBtn" onclick="openBindPhone()">Bind</button></div>
        </div>
    </div>

    <!-- ===== Login Password ===== -->
    <div class="card">
        <div class="card-title">Login Password</div>
        <div class="card-sub">管理您的登录密码</div>

        <div class="info-row">
            <div class="info-label">Password</div>
            <div class="info-value" style="color:var(--text3);">上次修改：2026-01-15</div>
            <div class="info-action"><button class="btn btn-sm" onclick="openChangePw()">Change Password</button></div>
        </div>
    </div>

    <!-- ===== Language Preference ===== -->
    <div class="card">
        <div class="card-title">Language Preference</div>
        <div class="card-sub">选择界面显示语言</div>

        <div class="info-row">
            <div class="info-label">Language</div>
            <div class="info-value">
                <select class="fi" style="width:180px;padding:6px 10px;" onchange="showToast('Language updated')">
                    <option>English</option>
                    <option selected>简体中文</option>
                    <option>繁體中文</option>
                </select>
            </div>
        </div>
    </div>
</div>

<!-- ===== Modals ===== -->

<!-- Edit Name -->
<div class="modal-mask" id="modalName">
    <div class="modal">
        <h2>Edit Name</h2>
        <div class="m-sub">修改您的显示名称</div>
        <div class="fg">
            <label class="fl">Name <span class="req">*</span></label>
            <input class="fi" id="editNameInput" value="Li Wei">
        </div>
        <div class="btn-row">
            <button class="btn" onclick="closeModal('modalName')">Cancel</button>
            <button class="btn btn-pri" onclick="saveName()">Save</button>
        </div>
    </div>
</div>

<!-- Change Password -->
<div class="modal-mask" id="modalPw">
    <div class="modal">
        <h2>Change Password</h2>
        <div class="m-sub">修改登录密码</div>
        <div class="fg">
            <label class="fl">Current Password <span class="req">*</span></label>
            <input class="fi" id="pwCurrent" type="password" placeholder="Enter current password">
        </div>
        <div class="fg">
            <label class="fl">New Password <span class="req">*</span></label>
            <input class="fi" id="pwNew" type="password" placeholder="Enter new password" oninput="checkPwStrength()">
            <div style="height:4px;border-radius:2px;background:var(--border);margin-top:6px;overflow:hidden;"><div id="pwBar" style="height:100%;border-radius:2px;transition:width .2s,background .2s;width:0;"></div></div>
            <div class="fi-hint" id="pwHint">至少 8 位，包含大小写字母 + 数字 + 特殊字符</div>
        </div>
        <div class="fg">
            <label class="fl">Confirm New Password <span class="req">*</span></label>
            <input class="fi" id="pwConfirm" type="password" placeholder="Confirm new password">
        </div>
        <div class="btn-row">
            <button class="btn" onclick="closeModal('modalPw')">Cancel</button>
            <button class="btn btn-pri" onclick="savePw()">Change Password</button>
        </div>
    </div>
</div>

<!-- Bind Phone -->
<div class="modal-mask" id="modalPhone">
    <div class="modal">
        <h2 id="phoneModalTitle">Bind Phone Number</h2>
        <div class="m-sub">绑定手机号后可作为备用登录凭证</div>
        <div class="fg">
            <label class="fl">Phone Number <span class="req">*</span></label>
            <div style="display:flex;gap:8px;">
                <select class="fi" style="width:100px;flex-shrink:0;">
                    <option>+86</option>
                    <option>+852</option>
                    <option>+1</option>
                    <option>+44</option>
                    <option>+81</option>
                </select>
                <input class="fi" id="phoneInput" placeholder="Enter phone number">
            </div>
        </div>
        <div class="btn-row">
            <button class="btn" onclick="closeModal('modalPhone')">Cancel</button>
            <button class="btn btn-pri" onclick="savePhone()">Bind</button>
        </div>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
let phoneBound = false;

function openModal(id) { document.getElementById(id).classList.add('show'); }
function closeModal(id) { document.getElementById(id).classList.remove('show'); }

function showToast(msg, type) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.className = 'toast ' + (type === 'err' ? 'err' : '') + ' show';
    setTimeout(() => t.classList.remove('show'), 2500);
}

function openEditName() {
    document.getElementById('editNameInput').value = document.getElementById('profileName').textContent;
    openModal('modalName');
}

function saveName() {
    const name = document.getElementById('editNameInput').value.trim();
    if (!name) { showToast('Please enter a name', 'err'); return; }
    document.getElementById('profileName').textContent = name;
    document.getElementById('topbarName').textContent = name;
    document.getElementById('topbarAvatar').textContent = name.split(' ').map(w => w[0]).join('').substring(0, 2).toUpperCase();
    closeModal('modalName');
    showToast('Name updated');
}

function openChangePw() {
    document.getElementById('pwCurrent').value = '';
    document.getElementById('pwNew').value = '';
    document.getElementById('pwConfirm').value = '';
    document.getElementById('pwBar').style.width = '0';
    document.getElementById('pwHint').textContent = '至少 8 位，包含大小写字母 + 数字 + 特殊字符';
    openModal('modalPw');
}

function checkPwStrength() {
    const pw = document.getElementById('pwNew').value;
    const bar = document.getElementById('pwBar');
    const hint = document.getElementById('pwHint');
    let score = 0;
    if (pw.length >= 8) score++;
    if (/[a-z]/.test(pw)) score++;
    if (/[A-Z]/.test(pw)) score++;
    if (/[0-9]/.test(pw)) score++;
    if (/[^a-zA-Z0-9]/.test(pw)) score++;
    const pct = (score / 5) * 100;
    bar.style.width = pct + '%';
    if (score <= 2) { bar.style.background = '#ef4444'; hint.textContent = 'Weak'; }
    else if (score <= 3) { bar.style.background = '#f59e0b'; hint.textContent = 'Medium'; }
    else if (score <= 4) { bar.style.background = '#3b82f6'; hint.textContent = 'Good'; }
    else { bar.style.background = '#16a34a'; hint.textContent = '✅ Strong'; }
}

function savePw() {
    const cur = document.getElementById('pwCurrent').value;
    const nw = document.getElementById('pwNew').value;
    const cf = document.getElementById('pwConfirm').value;
    if (!cur) { showToast('Please enter current password', 'err'); return; }
    if (nw.length < 8) { showToast('Password must be at least 8 characters', 'err'); return; }
    if (!/[a-z]/.test(nw) || !/[A-Z]/.test(nw) || !/[0-9]/.test(nw) || !/[^a-zA-Z0-9]/.test(nw)) {
        showToast('Must contain uppercase, lowercase, number, and special char', 'err'); return;
    }
    if (nw !== cf) { showToast('Passwords do not match', 'err'); return; }
    closeModal('modalPw');
    showToast('Password changed successfully');
}

function openBindPhone() {
    document.getElementById('phoneInput').value = '';
    document.getElementById('phoneModalTitle').textContent = phoneBound ? 'Change Phone Number' : 'Bind Phone Number';
    openModal('modalPhone');
}

function savePhone() {
    const phone = document.getElementById('phoneInput').value.trim();
    if (!phone || phone.length < 6) { showToast('Please enter a valid phone number', 'err'); return; }
    phoneBound = true;
    document.getElementById('phoneDisplay').innerHTML = '+86 ' + phone + ' <span class="badge badge-green">Bound</span>';
    document.getElementById('phoneBtn').textContent = 'Change';
    closeModal('modalPhone');
    showToast('Phone number bound');
}
</script>
</body>
</html>
